AC_INIT([test_vasnprintf], [1.0])
AC_CONFIG_HEADERS([config.h])

# Invoke macros from vasnprintf.m4
gl_FUNC_VASNPRINTF
gl_REPLACE_VASNPRINTF
gl_FUNC_VASNWPRINTF
gl_PREREQ_PRINTF_ARGS
gl_PREREQ_PRINTF_PARSE
gl_PREREQ_VASNPRINTF
gl_PREREQ_VASNWPRINTF
gl_PREREQ_VASNXPRINTF
gl_PREREQ_VASNPRINTF_LONG_DOUBLE
gl_PREREQ_VASNPRINTF_INFINITE_DOUBLE
gl_PREREQ_VASNPRINTF_INFINITE_LONG_DOUBLE
gl_PREREQ_VASNPRINTF_DIRECTIVE_A
gl_PREREQ_VASNPRINTF_DIRECTIVE_B
gl_PREREQ_VASNPRINTF_DIRECTIVE_F
gl_PREREQ_VASNPRINTF_DIRECTIVE_LS
gl_PREREQ_VASNPRINTF_DIRECTIVE_LC
gl_PREREQ_VASNPRINTF_FLAG_GROUPING
gl_PREREQ_VASNPRINTF_FLAG_LEFTADJUST
gl_PREREQ_VASNPRINTF_FLAG_ZERO
gl_PREREQ_VASNPRINTF_FLAG_ALT_PRECISION_ZERO
gl_PREREQ_VASNPRINTF_PRECISION
gl_PREREQ_VASNPRINTF_ENOMEM
gl_PREREQ_VASNPRINTF_WITH_POSIX_EXTRAS
gl_PREREQ_VASNPRINTF_DIRECTIVE_UPPERCASE_B
gl_PREREQ_VASNPRINTF_WITH_GNU_EXTRAS
gl_PREREQ_ASNPRINTF

# Account for global Bazel defaults
HAVE_ALLOCA_H=1
AC_SUBST([HAVE_ALLOCA_H])
HAVE_DECL__SNPRINTF=0
AC_SUBST([HAVE_DECL__SNPRINTF])
HAVE_NL_LANGINFO=1
AC_SUBST([HAVE_NL_LANGINFO])
HAVE_WCRTOMB=1
AC_SUBST([HAVE_WCRTOMB])
HAVE_WCSLEN=1
AC_SUBST([HAVE_WCSLEN])
HAVE_WCSNLEN=1
AC_SUBST([HAVE_WCSNLEN])
HAVE_MBRTOWC=1
AC_SUBST([HAVE_MBRTOWC])

AC_CONFIG_FILES([subst.h:subst.h.in])
AC_OUTPUT
